(function(a){"use strict";var b=a({});a.subscribe=function(){b.on.apply(b,arguments)},a.unsubscribe=function(){b.off.apply(b,arguments)},a.publish=function(){b.trigger.apply(b,arguments)}})($);
(function(a){'use strict';var b={syrup:'data-syrup',ready:'data-syrup-ready'},c=function(c){return c.attr(b.syrup).split(',').map(function(a){return a.trim()}).map(function(a){return a.split(':',2)}).map(function(b){return[b[0],function(b){a.publish(this,b,c)}.bind(b[1])]}).reduce(function(a,b){return a[b[0]]=b[1],a},{})};a.fn.syrup=function(){var d=a(this),e=d.find('['+b.syrup+']');d.attr(b.syrup)&&e.add(d),e.each(function(d,e){var f=a(e);f.attr(b.ready)||(f.on(c(a(e))),f.attr(b.ready,'true'))})},a(function(){return a(document.body).syrup()})})($);
